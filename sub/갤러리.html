<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=0,maximum-scale=10,user-scalable=yes">
	
	<!-- script -->
	<script src="../js/jquery-3.6.1.js"></script>	
    <script src="../js/swiper-bundle.min.js"></script>
	<script src="../js/libs/ScrollMagic.min.js"></script>
	<script src="../js/common.js"></script>
	<script src="../js/libs/swiper-bundle.min.js"></script>
	<script src="../js/libs/tui-pagination.js"></script>
	<script src="../js/libs/tui-grid.js"></script>
	<!-- slick js -->
	<script src="../js/slick/slick.js"></script>
	<script src="../js/slick/slick.min.js"></script>


	<!-- css -->
	 <link rel="stylesheet" href="../css/swiper-bundle.min.css">
	<link rel="stylesheet" href="../css/basic.css" type="text/css"/>
	<link rel="stylesheet" href="../css/sub.css" type="text/css"/>
	<link rel="stylesheet" href="../css/common.css" type="text/css"/>
	<link rel="stylesheet" href="../css/tui-pagination.css" type="text/css"/>
	<link rel="stylesheet" href="../css/tui-grid.css" type="text/css"/>
	<link rel="stylesheet" href="../css/board.css">

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
	<link rel='stylesheet' href='../css/libs/jquery.mCustomScrollbar.min.css'>
	<link rel='stylesheet' href='../css/libs/swiper-bundle.min.css'>

    <title>ICS</title>
</head>
<body>
	<div class="top__btn"><a href="#Main"><img src="../img/top_arrow.svg"></a></div>
	<!-- HEADER -->
	<!-- HEADER // -->


	<div class="container">
		<section class="sub-page-title-wrap">
			<div class="s_visual">
				<div  class="inner">
					<div class="tit__area">
						<h2>커뮤니티</h2>
					</div>
				</div>
			</div>
			<div class="sub-visual__nav">
				<ul class="gnb">
					<li><a href="#"><img src="../img/sub/icon_home.svg"></a></li>
					<li class="menu menu-1">
						<a href="#">커뮤니티<img src="../img/sub/icon_submenu.svg"></a>
						<ul class="sub-menu">
							<li><a href="#" data-target="guid">학교 안내</a></li>
							<li><a href="#" data-target="admission">입학 안내</a></li>
							<li><a href="#" data-target="academic">학사 안내</a></li>
							<li><a href="#" data-target="department">학과 안내</a></li>
							<li><a href="#" data-target="community">커뮤니티</a></li>
							<li><a href="#" data-target="news">뉴스</a></li>
						</ul>
					</li>
					<li class="menu menu-2">
						<a href="#">갤러리<img src="../img/sub/icon_submenu.svg"></a>
						<ul class="sub-menu">
							<li><a href="../sub/게시판.html">오프라인 세미나</a></li>
							<li><a href="../sub/게시판.html">서식자료실</a></li>
							<li><a href="../sub/갤러리.html">갤러리</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</section>


		<section class="sub-page">
			<div class="s__container">
				<div class="s__row">
					<div class="s_title">
						<h2>갤러리</h2>
					</div>
					<div class="sp50"></div>

					<div class="content scroll-spy">
						<div class="back-to-position to-top delay-0">
							<form>
								<div class="border-search01">
									<select name="" id="">
										<option value="">전체</option>
									</select>
									<input type="text">
									<div class="search__btn">
										<button class="btn-main">검색<i><img src="../img/sub/icon_search.svg"></i></button>
										<!-- <button class="btn-gr">글쓰기</button> -->
									</div>

								</div>
							</form>
							<div id="gallery" class="gallery-grid"></div>
    						<div id="pagination" class="tui-pagination"></div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- 하단 : start-->
		<!-- 하단 : end-->
	</div>

	<script>
		// 스크롤 애니메이션
		const spyEls = document.querySelectorAll('.scroll-spy');
		const controller = new ScrollMagic.Controller();

		spyEls.forEach(function (spyEl) {
			new ScrollMagic.Scene({
				triggerElement: spyEl,
				triggerHook: 0.65,
			})
				.setClassToggle(spyEl, 'show')
				.addTo(controller);
		});


		const menus = document.querySelectorAll('.gnb > li > a');
			menus.forEach(menu => {
			menu.addEventListener('click', function(e) {
				e.preventDefault();

				// 현재 클릭된 li
				const parentLi = this.parentElement;
				const submenu = this.nextElementSibling;

				// 모든 메뉴 닫기
				document.querySelectorAll('.sub-menu').forEach(sm => {
				if (sm !== submenu) {
					sm.classList.remove('active');
				}
				});

				// 클릭한 메뉴 토글
				if (submenu && submenu.classList.contains('sub-menu')) {
				submenu.classList.toggle('active');
				}
			});
		});


		// 갤러리 데이터 (실제 이미지 경로)
		const galleryData = [
			{
				id: 1,
				title: "2022년 2학기 오프라인 세미나",
				img: "../img/gallery-img01.jpg",
				date: "2022.10.01"
			},
			{
				id: 2,
				title: "2023년 1학기 입학식",
				img: "../img/gallery-img02.jpg",
				date: "2023.03.15"
			},
			{
				id: 3,
				title: "2023년 하계 원우수련회",
				img: "../img/gallery-img03.jpg",
				date: "2023.07.20"
			},
			{
				id: 4,
				title: "2023년 2학기 졸업식",
				img: "../img/gallery-img01.jpg",
				date: "2023.12.15"
			},
			{
				id: 5,
				title: "2024년 1학기 오프라인 세미나",
				img: "../img/gallery-img02.jpg",
				date: "2024.04.10"
			},
			{
				id: 6,
				title: "2024년 하계 원우수련회",
				img: "../img/gallery-img03.jpg",
				date: "2024.08.05"
			},
			{
				id: 7,
				title: "2024년 2학기 입학식",
				img: "../img/gallery-img01.jpg",
				date: "2024.09.15"
			},
			{
				id: 8,
				title: "2024년 2학기 오프라인 세미나",
				img: "../img/gallery-img02.jpg",
				date: "2024.11.20"
			},
			{
				id: 9,
				title: "2025년 1학기 입학식",
				img: "../img/gallery-img03.jpg",
				date: "2025.03.10"
			},
			{
				id: 10,
				title: "2025년 1학기 오프라인 세미나",
				img: "../img/gallery-img01.jpg",
				date: "2025.05.15"
			},
			{
				id: 11,
				title: "2025년 하계 원우수련회",
				img: "../img/gallery-img02.jpg",
				date: "2025.07.25"
			},
			{
				id: 12,
				title: "2025년 2학기 입학식",
				img: "../img/gallery-img03.jpg",
				date: "2025.09.12"
			},
			{
				id: 13,
				title: "2025년 2학기 오프라인 세미나",
				img: "../img/gallery-img01.jpg",
				date: "2025.11.18"
			},
			{
				id: 14,
				title: "2025년 겨울 원우수련회",
				img: "../img/gallery-img02.jpg",
				date: "2025.12.20"
			},
			{
				id: 15,
				title: "2026년 1학기 입학식",
				img: "../img/gallery-img03.jpg",
				date: "2026.03.08"
			}
		];

		const itemsPerPage = 12;
		const container = document.getElementById('gallery');
		const paginationEl = document.getElementById('pagination');

		// tui-pagination 세팅
		const pagination = new tui.Pagination(paginationEl, {
			totalItems: galleryData.length,
			itemsPerPage: itemsPerPage,
			visiblePages: 5,
			centerAlign: true,
			firstItemClassName: 'tui-first-child',
			lastItemClassName: 'tui-last-child',
			template: {
				page: '<a href="#" class="tui-page-btn">{{page}}</a>',
				currentPage: '<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',
				moveButton: '<a href="#" class="tui-page-btn tui-{{type}}">' +
					'<span class="tui-ico-{{type}}">{{type}}</span>' +
					'</a>',
				disabledMoveButton: '<span class="tui-page-btn tui-is-disabled tui-{{type}}">' +
					'<span class="tui-ico-{{type}}">{{type}}</span>' +
					'</span>',
				moreButton: '<a href="#" class="tui-page-btn tui-{{type}}-is-ellip">' +
					'<span class="tui-ico-ellip">...</span>' +
					'</a>'
			}
		});

		// 리스트 렌더링
		function renderPage(page) {
		container.innerHTML = '';
		const start = (page - 1) * itemsPerPage;
		const end = start + itemsPerPage;
		const pageItems = galleryData.slice(start, end);

		pageItems.forEach(item => {
			const el = document.createElement('a');
			el.className = 'gallery-item';
			el.href = './게시판_보기.html';
			el.innerHTML = `
				<div class="thumb">
					<img src="${item.img}" alt="${item.title}">
				</div>
				<div class="text">
					<h3>${item.title}</h3>
					<span class="date">${item.date}</span>
				</div>
			`;
			
			container.appendChild(el);
		});
		}

		// 초기 렌더링
		renderPage(1);

		// 페이지 이동 이벤트
		pagination.on('afterMove', (event) => {
		renderPage(event.page);
		});

	</script>
</body>
</html>

